<div>

  <div class="form_date form_date__day" ng-class="{active: active=='day'}">
    <span data-ng-bind="model[0] || date.placeholder.day" ng-click="$event.preventDefault();$event.stopPropagation();active=(active=='day')?null:'day'"></span>
    <div class="form_date__popup">
      <a href="#" data-ng-repeat="day in range(1, days[model[1] || 1])" data-ng-bind="day"
         data-ng-click="$event.preventDefault();$event.stopPropagation();$parent.active=null;model[0] = day;"></a>
    </div>
  </div>
  <div class="form_date form_date__month" ng-class="{active: active=='month'}">
    <span data-ng-bind="date.months[model[1]] || date.placeholder.month" ng-click="$event.preventDefault();$event.stopPropagation();active=(active=='month')?null:'month'"></span>
    <div class="form_date__popup">
      <a href="#" data-ng-repeat="(key, value) in date.months track by $index" data-ng-bind="value"
         data-ng-click="$event.preventDefault();$event.stopPropagation();$parent.active=null;model[1] = +key;"></a>
    </div>
  </div>
  <div class="form_date form_date__year" ng-class="{active: active=='year'}">
    <span data-ng-bind="model[2] || date.placeholder.year" ng-click="$event.preventDefault();$event.stopPropagation();active=(active=='year')?null:'year'"></span>
    <div class="form_date__popup">
      <a href="#" data-ng-repeat="year in years" data-ng-bind="year"
         data-ng-click="$event.preventDefault();$event.stopPropagation();$parent.active=null;model[2] = year;"></a>
    </div>
  </div>

</div>