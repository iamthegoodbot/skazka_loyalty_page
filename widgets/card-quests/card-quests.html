<div class="bns_gift" data-sailplay-actions>
  <h3 class="bns_head">
      Ваши персональные предложения
  </h3>
  <div class="bns_gift_main">
      <div class="swiper-container">

          <div class="swiper-wrapper">
            <div class="swiper-slide" data-ng-repeat="action in actions_custom() | offer" title="{{ action.name }}">
                <a href="#" class="bns_gift_item" data-ng-style="{'background-image': (action.content.image | sailplay_pic | background_image)}">
                    <div class="bns_gift_item_top">
                      <span class="bns_gift_name" data-ng-bind="action_data(action).name | chopOfferName">
                      </span>
                      <br>
                      <span class="bns_gift_date" data-ng-bind="'до ' + (action_data(action).dt_end | amDateFormat:'D MMMM')">
                      </span>
                      </div>
                      <div class="bns_gift_over">
                        <span class="bns_gift_over_desc" data-ng-bind="action_data(action).description">
                          
                        </span>
                        <span class="bns_btn" data-ng-bind="action_data(action).button_text" data-ng-click="action_custom_select(action)">
                          
                        </span>
                    </div>
                </a>
            </div>
          </div>
          <!-- Add Scrollbar -->
          <div class="swiper-scrollbar"></div>

          <!-- Add Arrows -->
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div>


  </div>
</div>

<div class="container clearfix" data-sailplay-actions id="magic_actions">
  <div class="bns_qust">
    <div class="bns_head">
        Задания за баллы
    </div>
    <div class="bns_qust_main">
      <a href="#" class="bns_qust_item" data-ng-repeat="action in actions().actions | filter:filter" title="{{ action_data(action).name }}">
          <div class="bns_qust_left">
              <img data-ng-src="{{ action_data(action).pic | sailplay_pic }}" alt=""> 
          </div>
          <div class="bns_qust_right">
            <span class="bns_bal" data-ng-show="action.points" data-ng-bind="((action.points || 0) | number) + ' ' + (action.points | sailplay_pluralize:( 'points.texts.pluralize' | tools ))">
                
            </span>
                <span class="bns_name" data-ng-bind="action_data(action).name">
                
            </span>
          </div>
          <div class="bns_qust_over">
              <span class="bns_btn" data-sailplay-action
                          data-styles="{{ action_styles(action_data(action)) }}"
                          data-action="action"
                          data-text="{{ action_data(action).button_text }}">
                <span class="">{{ action_data(action).button_text }}</span>
              </span>
          </div>
      </a>
    <!-- custom actions -->
      <a href="#" class="bns_qust_item" data-ng-repeat="action in actions_custom() | noOffer" title="{{ action.name }}">
          <div class="bns_qust_left">
              <img data-ng-src="{{ action.icon | sailplay_pic }}" alt=""> 
          </div>
          <div class="bns_qust_right">
            <span class="bns_bal" data-ng-show="action.points" data-ng-bind="((action.points || 0) | number) + ' ' + (action.points | sailplay_pluralize:( 'points.texts.pluralize' | tools ))">
                
            </span>
                <span class="bns_name" data-ng-bind="action_data(action).name">
                
            </span>
          </div>
          <div class="bns_qust_over">
              <span class="bns_btn" data-ng-click="action_custom_select(action)" data-ng-click="action_custom_select(action)">{{ action.button_text }}</span>
          </div>
      </a>
    </div>


  </div>
</div>


      <magic-modal class="bns_overlay bns_overlay_gift" data-ng-cloak data-show="$parent.action_selected">

        <div>

          <div class="action_image">
            <img class="gift_more_img" data-ng-src="{{ action_data(action_selected).pic | sailplay_pic }}"
                 alt="{{ action_data(action_selected).name }}">
          </div>

          <div class="action_tools">

            <p>
              <span class="modal_action_name" data-ng-bind="action_data(action_selected).name"></span>
            </p>

            <p style="margin-top: 10px;">
              <span class="modal_action_points" data-ng-bind="(action_selected.points | number) + ' ' + (selected_gift.points | sailplay_pluralize:( 'points.texts.pluralize' | tools ))"></span>
            </p>

            <p style="margin-top: 10px;">
              <span class="modal_action_description" data-ng-bind="action_data(action_selected).description"></span>
            </p>


            <p class="action_buttons">
            <span data-sailplay-action
                  data-styles="{{ action_styles(action_data(action_selected)) }}"
                  data-action="action_selected"
                  data-text="{{ action_data(action_selected).button_text }}">
              <span class="sp_btn button_primary">{{ action_data(action_selected).button_text }}</span>
            </span>
            </p>

          </div>

        </div>

      </magic-modal>

      <magic-modal class="bns_overlay bns_overlay_gift" data-ng-cloak data-show="$parent.action_custom_selected">     

        <div data-ng-if="!$parent.action_custom_selected.name.startsWith('offer:')">

          <div class="bns_overlay_inner iframe-inner-modal" data-ng-if="!$parent.action_custom_selected.name.startsWith('offer:')" data-sailplay-action-custom data-action="action_custom_selected"></div>
          
          <div class="bns_overlay_inner" data-ng-if="$parent.action_custom_selected.name.startsWith('offer:')">
              <div class="bns_over_left">
                <!-- data-ng-style="{'background-image': ($parent.action_custom_selected.content.image | sailplay_pic | background_image)}" -->
                  <h4 class="bns_head" data-ng-bind="$parent.action_custom_selected.content.header"></h4>
                  <a href="#" class="close"></a>
                  <div class="bns_about" data-ng-bind="$parent.action_custom_selected.content.message">
                  </div>
                  <a data-ng-bind="$parent.action_custom_selected.content.button_text" data-ng-href="{{$parent.action_custom_selected.content.url}}" class="bns_btn bns_btn_mt_min">
                  </a>
              </div>
          </div>
        </div>

      </magic-modal>



    </div>

  </div>
</div>