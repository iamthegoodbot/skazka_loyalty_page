<div class="clearfix membership container">
    <div class="title">{{ widget.texts.title }}</div>
    <div class="status-name">{{ status.name }} MEMBER</div>
    <div class="renewal" data-ng-bind="widget.texts.renewal_date"></div>

    <div class="member-line">
        <div class="check-point active" style="left: 0px" ng-attr-title="{{ statuses[0].name }}"></div>
        <div class="check-point" ng-class="{ 'active': second_active }" style="left: 30%" title="{{ statuses[1].name }}" ng-attr-description="{{ (statuses[1].points | currency:'$':0) + ' purchase' }}"></div>
        <div class="check-point last" ng-class="{ 'active': third_active }" title="{{ statuses[2].name }}" ng-attr-description="{{ (statuses[2].points | currency:'$':0) + ' purchase' }}"></div>
        <div class="fill-line" ng-style="{ 'width': get_status_progress() }">
            <div class="text" ng-if="purchases_sum">{{ purchases_sum | currency:"$":0 }}</div>
            <div class="line"></div>
            <svg class="arrow" ng-hide="third_active" x="0px" y="0px" viewBox="0 0 1000 1000">
                <g fill="#3e3e3f">
                    <path d="M761.5,180.8L447,499.5l314.5,318.6c9.7,9.7,17,20.8,21.9,33.3c4.9,12.5,7.3,25.2,7.3,38c0,12.8-2.4,25.3-7.3,37.5c-4.9,12.2-12.2,23.1-21.9,32.8C742,979.9,718.8,990,691.7,990c-27.1,0-50.3-10.1-69.8-30.2L241.9,576.5c-9.7-9.7-17.3-21.4-22.9-34.9c-5.6-13.6-8.7-27.3-9.4-41.2c-0.7-13.9,1-27.2,5.3-40.1c4.2-12.8,11.1-23.5,20.8-31.8L622,39.1C641.4,19.7,664.7,10,691.7,10c27.1,0,50.3,9.7,69.7,29.1c9.7,9.7,17,20.8,21.9,33.3c4.9,12.5,7.3,25.2,7.3,38c0,12.8-2.4,25.3-7.3,37.5C778.5,160.1,771.2,171.1,761.5,180.8L761.5,180.8z"
                    />
                </g>
            </svg>
        </div>
    </div>
    <div class="motivation-block">
        <div class="group" data-ng-hide="need_to_gold_relative<=0">
            <div class="price" data-ng-show="need_to_silver_relative>0" >{{ need_to_silver_relative | currency:"$":0 }}</div>
            <div class="text">{{need_to_silver_relative>0 ? 'Become ' + statuses[1].name : 'You will renew as ' + statuses[1].name }}</div>
        </div>
        <div class="group">
            <div class="price" data-ng-show="need_to_gold_relative>0">{{ need_to_gold_relative | currency:"$":0 }}</div>
            <div data-ng-class="{nomargin: need_to_gold_relative<=0}" class="text">{{need_to_gold_relative>0 ? 'Become ' + statuses[2].name : 'You will renew as ' + statuses[2].name }}</div>
        </div>
    </div>
    <div class="buttons">
        <a href="" class="sp_btn button_primary" ng-click="$event.preventDefault(); profile.history = true;">Purchase history></a>
        <a ng-attr-href="{{ widget.privileges_link }}" class="sp_btn button_primary">Shopping privileges></a>
    </div>

    <magic-modal class="bns_overlay_hist" data-show="profile.history">

        <div data-sailplay-history data-sailplay-profile>

        <h3>
            <span class="modal_history_header">{{ widget.texts.history.header }}</span>
            <!--<b>У вас {{ user().user_points.confirmed + ' ' + (user().user_points.confirmed | sailplay_pluralize:_tools.points.texts.pluralize) }}</b>-->
        </h3>
        <h4 class="modal_history_caption">{{ widget.texts.history.caption }}</h4>

        <table class="bns_hist_table">

            <tbody>

            <tr data-dir-paginate="item in history() | itemsPerPage:10" data-pagination-id="history_pages">
            <td>
                <span class="modal_history_date" data-ng-bind="item.action_date | date:'d/MM/yyyy'"></span>
            </td>
            <td>
                <span><b class="modal_history_content" data-ng-bind="item | history_item"></b></span>
            </td>
            <td>
                <span class="modal_history_points" data-ng-if="item.points_delta" data-ng-bind="((item.points_delta|number) || 0) + ' ' + (item.points_delta | sailplay_pluralize:('points.texts.pluralize' | tools))"></span>
            </td>
            </tr>

            </tbody>
        </table>

        <dir-pagination-controls data-max-size="7" data-pagination-id="history_pages"
                                data-template-url="profile.history_pagination"
                                data-auto-hide="true"></dir-pagination-controls>
        </div>



    </magic-modal>
</div>